@model Ztop.Todo.Model.Evection
    @{ 
        bool flag = ViewBag.Detail??false;
        var costtypes = (Model.TCosts ?? new List<Traffic>()).ToDictionary(e => e.Type, e => e);
    }


<h3>报销内容分项清单&nbsp;</h3>
<div id="bill">
    <table class="table table-bordered">
        <thead>
            <tr>
                <th class="text-center">分类</th>
                <th style="width:80%;" class="text-center">内容</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>出差地点</td>
                @if (flag)
                {
                    <td class="text-center">@(Model.Place)</td>
                }
                else
                {
                    <td>
                        <div class="input-group col-md-10">
                            <input type="text" class="form-control" name="Place" value="@(Model.Place)" />
                        </div>
                    </td>
                }
            </tr>
            @*<tr>
                <td>公里数</td>
                @if (flag)
                {
                    <td class="text-center">@(Model.KiloMeters) 公里</td>
                }
                else
                {
                    <td>
                        <div class="input-group col-md-10">
                            <input type="text" class="form-control" name="KiloMeters" value="@(Model.KiloMeters)" />
                            <div class="input-group-addon">公里</div>
                        </div>
                    </td>

                }
            </tr>*@
            <tr>
                <td>交通费用</td>
                @if (flag)
                {
                    <td class="text-center">
                        公里数：@(Model.KiloMeters)  公里  小计：@(Model.Traffic) 元
                        @if (Model.TCosts != null)
                        {
                            <table class="table table-striped">
                                <tr>
                                    <th class="text-center">交通工具</th>
                                    <th class="text-center">金额（元）</th>
                                    <th class="text-center">过路费（元）</th>
                                    <th class="text-center">油费（元）</th>
                                    <th class="text-center">司机</th>
                                    <th class="text-center">车补（元）</th>
                                    <th class="text-center">车牌</th>
                                    <th class="text-center">次数</th>
                                </tr>
                                @foreach (var cost in Model.TCosts)
                                {
                                    <tr>
                                        <td>@(cost.Type.GetDescription())</td>
                                        <td>@(cost.Cost)</td>
                                        @if (cost.Type == BusType.Company)
                                        {
                                            <td>@(cost.Toll)</td>
                                            <td>@(cost.Petrol)</td>
                                            <td>@(cost.Driver)</td>
                                            <td>@(cost.CarPetty)</td>
                                            <td>@(cost.Plate)</td>
                                            <td>/</td>
                                        }
                                        else if (cost.Type == BusType.Personal)
                                        {
                                            <td>@(cost.Toll)</td>
                                            <td>@(cost.Petrol)</td>
                                            <td>/</td>
                                            <td>/</td>
                                            <td>@(cost.Plate)</td>
                                            <td>/</td>
                                        }
                                        else if (cost.Type == BusType.Didi || cost.Type == BusType.Taxi)
                                        {
                                            <td>/</td>
                                            <td>/</td>
                                            <td>/</td>
                                            <td>/</td>
                                            <td>/</td>
                                            <td>@(cost.Times) 次</td>
                                        }
                                        else
                                        {
                                            <td>/</td>
                                            <td>/</td>
                                            <td>/</td>
                                            <td>/</td>
                                            <td>/</td>
                                            <td>/</td>
                                        }
                                    </tr>
                                }
                            </table>
                        }
                    </td>

                }
                else
                {
                    <td>
                        <div class="input-group col-md-10">
                            <input type="text" class="form-control" placeholder="合计" readonly="readonly" name="Traffic" value="@(Model.Traffic)" />
                            <div class="input-group-addon">元</div>
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-success" data-toggle="modal" data-target=".ViewTraffic">交通费用详情</button>
                            </span>
                        </div>
                        <div class="modal fade ViewTraffic" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title">交通费用详情</h4>
                                    </div>
                                    <div class="modal-body container-fluid">
                                        <div class="form-group">
                                            <label class="control-label col-md-1">公里数</label>
                                            <div class="input-group col-md-11">
                                                <input type="text" class="form-control" name="KiloMeters" value="@(Model.KiloMeters)" />
                                                <div class="input-group-addon">公里</div>
                                            </div>
                                            
                                        </div>
                                        @foreach (BusType type in Enum.GetValues(typeof(BusType)))
                                        {
                                            var check = costtypes.ContainsKey(type);
                                            var values = check ? costtypes[type] : new Traffic();
                                            if (type == BusType.Company || type == BusType.Personal)
                                            {
                                                <div class="col-md-12 well" style="padding:10px;margin-top:5px;margin-bottom:5px;">
                                                    <div class="input-group">
                                                        <span class="input-group-addon">
                                                            <input type="checkbox" name="BusType" value="@(type)" aria-label="" @(check ? "checked=checked" : "") />@(type.GetDescription())
                                                        </span>
                                                        <input type="text" class="form-control" name="Cost@(type)" aria-label="" placeholder="金额" value="@(values.Cost)" @(type == BusType.Personal || type == BusType.Company ? "readonly=readonly" : "") />
                                                        <div class="input-group-addon">元</div>
                                                        @if (type == BusType.Didi || type == BusType.Taxi)
                                                        {
                                                            <input type="number" class="form-control" name="Times" placeholder="" value="@(values.Times)" min="0" />
                                                                    <div class="input-group-addon">次</div>
                                                        }
                                                    </div>
                                                    @if (type == BusType.Company)
                                                    {
                                                        <div class="input-group" style="margin-top:10px; ">
                                                            <div class="input-group-addon">过路费</div>
                                                            <input type="text" class="form-control" name="Toll" placeholder="过路费" value="@(values.Toll)" targetType="Company" />
                                                            <div class="input-group-addon">元</div>
                                                            <div class="input-group-addon">油费</div>
                                                            <input type="text" class="form-control" name="Petrol" placeholder="油费" value="@(values.Petrol)" />
                                                            <div class="input-group-addon">元</div>

                                                        </div>
                                                        <div class="input-group" style="margin-top:10px;">
                                                                    <select name="Driver" class="form-control">
                                                                        @foreach (Driver driver in Enum.GetValues(typeof(Driver)))
                                                                        {
                                                                            <option value="@(driver)" @(values.Driver == driver ? "selected=selected" : "")>@(driver)</option>
                                                                        }
                                                                    </select>
                                                                    <div class="input-group-addon">司机</div>
                                                                    <input type="text" class="form-control" name="CarPetty" placeholder="车补" value="@(values.CarPetty)" readonly="readonly" />
                                                                    <div class="input-group-addon">元</div>
                                                                    <input type="text" class="form-control" name="Plate" placeholder="车牌" value="@(values.Plate)" />
                                                                </div>
                                                    }
                                                    else if (type == BusType.Personal)
                                                    {
                                                        <div class="input-group" style="margin-top:10px;">
                                                            <div class="input-group-addon">过路费</div>
                                                            <input type="text" class="form-control" name="Toll" placeholder="过路费" value="@(values.Toll)" targetType="Personal" />
                                                            <div class="input-group-addon">元</div>
                                                            <input type="text" class="form-control" name="Plate" placeholder="车牌" value="@(values.Plate)" />
                                                        </div>
                                                    }
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="col-md-6 well" style="padding:10px;margin-bottom:5px;margin-top:5px;">
                                                    <div class="input-group">
                                                        <span class="input-group-addon">
                                                            <input type="checkbox" name="BusType" value="@(type)" aria-label="" @(check ? "checked=checked" : "") />@(type.GetDescription())
                                                        </span>
                                                        <input type="text" class="form-control" name="Cost@(type)" aria-label="" placeholder="金额" value="@(values.Cost)" @(type == BusType.Personal || type == BusType.Company ? "readonly=readonly" : "") />
                                                        <div class="input-group-addon">元</div>
                                                        @if (type == BusType.Didi || type == BusType.Taxi)
                                                        {
                                                            <input type="number" class="form-control" name="Times" placeholder="" value="@(values.Times)" min="0" />
                                                            <div class="input-group-addon">次</div>
                                                        }
                                                    </div>
                                                </div>
                                            }
                                        }
                           
                                     


                                            @*<ul class="list-group">
                                                @foreach (BusType type in Enum.GetValues(typeof(BusType)))
                                                {
                                                    <li class="list-group-item">
                                                        @{
                                                            var check = costtypes.ContainsKey(type);
                                                            var values = check ? costtypes[type] : new Traffic();
                                                            <div class="input-group">
                                                                <span class="input-group-addon">
                                                                    <input type="checkbox" name="BusType" value="@(type)" aria-label="" @(check ? "checked=checked" : "") />@(type.GetDescription())
                                                                </span>
                                                                <input type="text" class="form-control" name="Cost@(type)" aria-label="" placeholder="金额" value="@(values.Cost)" @(type == BusType.Personal || type == BusType.Company ? "readonly=readonly" : "") />
                                                                <div class="input-group-addon">元</div>
                                                                @if (type == BusType.Didi || type == BusType.Taxi)
                                                                {
                                                                    <input type="number" class="form-control" name="Times" placeholder="" value="@(values.Times)" min="0" />
                                                                    <div class="input-group-addon">次</div>
                                                                }
                                                            </div>
                                                            if (type == BusType.Company)
                                                            {
                                                                <div class="input-group" style="margin-top:10px; ">
                                                                    <div class="input-group-addon">过路费</div>
                                                                    <input type="text" class="form-control" name="Toll" placeholder="过路费" value="@(values.Toll)" targetType="Company" />
                                                                    <div class="input-group-addon">元</div>
                                                                    <div class="input-group-addon">油费</div>
                                                                    <input type="text" class="form-control" name="Petrol" placeholder="油费" value="@(values.Petrol)" />
                                                                    <div class="input-group-addon">元</div>

                                                                </div>
                                                                <div class="input-group" style="margin-top:10px;">
                                                                    <select name="Driver" class="form-control">
                                                                        @foreach (Driver driver in Enum.GetValues(typeof(Driver)))
                                                                        {
                                                                            <option value="@(driver)" @(values.Driver == driver ? "selected=selected" : "")>@(driver)</option>
                                                                        }
                                                                    </select>
                                                                    <div class="input-group-addon">司机</div>
                                                                    <input type="text" class="form-control" name="CarPetty" placeholder="车补" value="@(values.CarPetty)" readonly="readonly" />
                                                                    <div class="input-group-addon">元</div>
                                                                    <input type="text" class="form-control" name="Plate" placeholder="车牌" value="@(values.Plate)" />
                                                                </div>
                                                            }
                                                            else if (type == BusType.Personal)
                                                            {
                                                                <div class="input-group" style="margin-top:10px;">
                                                                    <div class="input-group-addon">过路费</div>
                                                                    <input type="text" class="form-control" name="Toll" placeholder="过路费" value="@(values.Toll)" targetType="Personal" />
                                                                    <div class="input-group-addon">元</div>
                                                                    <input type="text" class="form-control" name="Plate" placeholder="车牌" value="@(values.Plate)" />
                                                                </div>
                                                            }
                                                        }
                                                    </li>
                                                }
                                            </ul>*@
                                      
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                                        <button type="button" name="BT" class="btn btn-primary" targetId="">确定</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>

                }
            </tr>
       
            <tr>
                <td>出差补贴</td>
                @if (flag)
                {
                    <td class="text-center">
                        小计： @(Model.SubSidy) 元
                        @if (Model.Errands != null)
                        {
                            <table class="table table-striped">
                                <tr>
                                    <th class="text-center">起始时间</th>
                                    <th class="text-center">结束时间</th>
                                    <th class="text-center">人员</th>
                                    <th class="text-center">天数（天）</th>
                                    <th class="text-center">人数（人）</th>
                                </tr>
                                @foreach(var errand in Model.Errands)
                                {
                                    <tr>
                                        <td>@(errand.StartTime.ToString("yyyy-MM-dd"))</td>
                                        <td>@(errand.EndTime.ToString("yyyy-MM-dd"))</td>
                                        <td>@(errand.Users)</td>
                                        <td>@(errand.Days)</td>
                                        <td>@(errand.Peoples)</td>
                                    </tr>
                                }
                            </table>
                        }
                    </td>
                }
                else
                {
                    <td>
                        <div class="input-group col-md-10">
                            <input type="text" class="form-control" name="SubSidy" readonly="readonly" value="@(Model.SubSidy)" />
                            <div class="input-group-addon">元</div>
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".ViewSubSidy">出差补贴详情</button>
                            </span>

                        </div>
                        <div class="modal fade ViewSubSidy" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title">出差补贴详情</h4>
                                    </div>
                                    <div class="modal-body">
                                        @{
                                            var serial = 0;
                                            if (Model.Errands != null)
                                            {
                                                foreach (var errand in Model.Errands)
                                                {
                                                    <div class="form-group">
                                                        <label class="control-label col-md-2">时间：</label>
                                                        <div class="input-group col-md-10">
                                                            <input type="text" class="form-control datetimepicker" name="StartTime@(serial)" targetId="@(serial)" value="@(errand.StartTime.ToString("yyyy-MM-dd"))" />
                                                            <div class="input-group-addon">至</div>
                                                            <input type="text" class="form-control datetimepicker" name="EndTime@(serial)" targetId="@(serial)" value="@(errand.EndTime.ToString("yyyy-MM-dd"))" />
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-md-2">人员：</label>
                                                        <div class="input-group col-md-10">
                                                            <input type="text" class="form-control" name="Users@(serial)" targetId="@(serial)" readonly="readonly"  value="@(errand.Users)"/>
                                                            <span class="input-group-btn">
                                                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".choose@(serial)">选择用户</button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-md-2">小计：</label>
                                                        <div class="input-group col-md-10">
                                                            <input type="number" class="form-control People" name="Peoples@(serial)" readonly="readonly" value="@(errand.Peoples)"/>
                                                            <div class="input-group-addon">人</div>
                                                            <input type="number" class="form-control" name="Days@(serial)" readonly="readonly" value="@(errand.Days)" />
                                                            <div class="input-group-addon">天</div>
                                                        </div>
                                                    </div>
                                                    <hr />
                                                    <div class="modal fade choose@(serial)" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-body">
                                                                    @{
                                                                        ViewBag.UsersList = errand.Users;
                                                                        Html.RenderPartial("ChooseUser", serial);
                                                                    }
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" name="BS" class="btn btn-primary" targetId="@(serial)">确定</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                                                serial++;
                                                                            }
                                                                        }
                                                                        for (var i = serial; i < 3; i++)
                                                                        {
                                                <div class="form-group">
                                                    <label class="control-label col-lg-2">时间：</label>
                                                    <div class="input-group col-md-10">
                                                        <input type="text" class="form-control datetimepicker" name="StartTime@(i)" targetId="@(i)" />
                                                        <div class="input-group-addon">至</div>
                                                        <input type="text" class="form-control datetimepicker" name="EndTime@(i)" targetId="@(i)" />
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-2">人员：</label>
                                                    <div class="input-group col-md-10">
                                                        <input type="text" class="form-control" name="Users@(i)" targetId="@(i)" readonly="readonly" />
                                                        <span class="input-group-btn">
                                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".choose@(i)">选择用户</button>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-2">小计：</label>
                                                    <div class="input-group col-md-10">
                                                        <input type="number" class="form-control People" name="Peoples@(i)" readonly="readonly" />
                                                        <div class="input-group-addon">人</div>
                                                        <input type="number" class="form-control" name="Days@(i)" readonly="readonly" />
                                                        <div class="input-group-addon">天</div>
                                                    </div>
                                                </div>

                                                <hr />
                                                <div class="modal fade choose@(i)" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                                    <div class="modal-dialog" role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-body">
                                                                @{
                                                                    ViewBag.UsersList = "";
                                                                    Html.RenderPartial("ChooseUser", i);
                                                                }
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" name="BS" class="btn btn-primary" targetId="@(i)">确定</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                                    }

                                        }
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" id="View">确定</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                                                                }
                
            </tr>
          
            <tr>
                <td>出差住宿</td>
                @if (flag)
                {
                    <td class="text-center">@(Model.Hotel) 元</td>
                }
                else
                {
                    <td>
                        <div class="input-group col-md-10">
                            <input type="text" class="form-control" name="Hotel" value="@(Model.Hotel)"  />
                            <div class="input-group-addon">元</div>
                        </div>
                    </td>
                }
            </tr>
            <tr>
                <td>其他内容</td>
                @if (flag)
                {
                    <td class="text-center">@(Model.Mark)</td>
                }
                else
                {
                    <td>
                        <div class="input-group col-md-10">
                            <input type="text" class="form-control " name="Mark" value="@(Model.Mark)" />
                        </div>
                       
                    </td>
                }
            </tr>
            <tr>
                <td>其他金额</td>
                @if (flag)
                {
                    <td class="text-center">@(Model.Other)  元</td>
                }
                else
                {
                    <td>
                        <div class="input-group col-md-10">
                            <input type="text" class="form-control" name="Other" value="@(Model.Other)" />
                            <div class="input-group-addon">元</div>
                        </div>
                    </td>
                }
            </tr>
        </tbody>
    </table>
</div>


<script>
    $(function () {
        $(".datetimepicker").datetimepicker({
            timepicker: false,
            format: 'Y-m-d',
        }).blur(function () {
            var targetId = $(this).attr("targetId");
            var start = $("[name='StartTime"+targetId+"']").val();
            var end = $("[name='EndTime"+targetId+"']").val();
            if (start == NaN || start == ""||start==undefined||start=="undefined" || end == NaN || end == ""||end==undefined||end=="undefined") {
                return false;
            }
            var d1 = new Date(start);
            var d2 = new Date(end);
            if (d2 < d1) {
                alert("截止日期小于起始日期");
                $("[name='Days"+targetId+"']").val(0);
                return false;
            }
            var day_d1 = d1.getTime() / 1000 / 3600 / 24;
            var day_d2 = d2.getTime() / 1000 / 3600 / 24;
            $("[name='Days"+targetId+"']").val(day_d2 - day_d1+1);
        });
        //统计出差补贴
        function SumSubSidy() {
            var sum = 0;
            for (var i = 0; i < 3; i++) {
                var peoples = $("[name='Peoples" + i + "']").val();
                var days = $("[name='Days" + i + "']").val();
                if (peoples == NaN || peoples == "" || peoples == undefined || peoples == "undefined" || days == NaN || days == "" || days == undefined || days == "undefined") {
                    continue;
                }
                sum += parseInt(peoples) * parseInt(days);
            }
            $("[name='SubSidy']").val(sum * 40);
            SumErrand();
        }
        //点击出差补贴输入框  统计出差补贴
        $("input[name='SubSidy']").focus(function () {
            SumSubSidy();
        });
        $("#View").click(function () {//统计出差补贴并隐藏窗口
            SumSubSidy();
            $(".ViewSubSidy").modal("hide");
        })
        //出差详情中选择用户弹出按钮点击事件
        $("[name='BS']").click(function () {
            var buiness = "";
            var count = 0;
            var id = $(this).attr("targetId");
            $("[name='Businesser" + id + "']:checked").each(function () {
                buiness += $(this).val() + ";";
                count = count + 1;
            });
            $("[name='Users" + id + "']").val(buiness);
            $("[name='Peoples" + id + "']").val(count);
            $(".choose" + id + "").modal("hide");
        });
        //统计交通总费用并赋值
        function SumTraffic() {
            var sum = 0;
            $("[name='BusType']:checked").each(function () {
                var type = $(this).val();
                if (type != "Didi") {
                    var val = $("[name='Cost" + type + "']").val();
                    if (val != undefined && val != "undefined" && val != NaN && val != "") {
                        sum += parseFloat(val);
                    }
                }
            });
            $("input[name='Traffic']").val(sum);
            SumErrand();
        }
        $("button[name='BT']").click(function () {
            SumTraffic();
            $(".ViewTraffic").modal("hide");
        });
        $("input[name='Traffic']").click(function () {//统计交通费用
            SumTraffic();
        });
        //输入出差住宿  自动统计金额
        $("input[name='Hotel']").change(function () {
            SumErrand();
        });
        //输入其他金额 自动统计金额
        $("input[name='Other']").change(function () {
            SumErrand();
        });
        //解决当出差人详情点击之后出现黑色块的问题
        $(".ViewSubSidy").on("hidden.bs.modal", function (e) {
            $(".modal-backdrop.fade.in").remove();
        })
        //获取公里数
        function GetKile() {
            var val = .0;
            var kile = $("input[name='KiloMeters']").val();
            if (kile != undefined && kile != NaN && kile != "undefined" && kile != "NaN") {
                val = parseFloat(kile);
            }
            return val;
        }

        //计算公司派车合计金额
        function StatisticCompany() {
            var sum = .0;
            var val = $("input[name='CarPetty']").val();
            if (val != undefined && val != NaN && val != "") {
                sum += parseFloat(val);
            }
            val = $("input[name='Petrol']").val();
            if (val != undefined && val != NaN && val != "") {
                sum += parseFloat(val);
            }
            val = $("input[name='Toll']")[0].value;
            if (val != undefined && val != NaN && val != "") {
                sum += parseFloat(val);
            }
            $("input[name='CostCompany']").val(sum);
        };
        //计算自备车车补金额
        function StatisticPersonal() {
            var kile = GetKile();
            if (isNaN(kile)) {
                alert("未获取公里数！");
                return;
            }
            $("input[name='CostPersonal']").val(kile * 1.5);
        }
        //在公司派车中选择司机 自动计算车补
        $("select[name='Driver']").change(function () {
            var val = $(this).val();
            var money = .0;
            var kile = GetKile();
            if (isNaN(kile)) {
                alert("未获取公里数！");
                return;
            }
            if (val == "无") {
                money = 0;
            } else if (val == "孙海杰") {
                money = kile * 0.5;
            } else {
                money = kile * 0.2;
            }
            $("input[name='CarPetty']").val(money);
            StatisticCompany();
        });
        //修改公司车过路费栏  自动统计计算金额
        $("input[name='Toll']").change(function () {
            var targetType = $(this).attr("targetType");
            if (targetType == "Company") {
                StatisticCompany();
            }
        });

        $("input[name='Petrol']").change(StatisticCompany);


        //用户点击公司车和自备车  自动计算金额
        $("input[name='BusType']").click(function () {
            var bustype = $(this).val();
            if (bustype == "Company") {
                var kile = GetKile();
                if (isNaN(kile)) {
                    alert("无法获取公里数！");
                    return;
                }
                StatisticCompany();
            } else if (bustype == "Personal") {
                StatisticPersonal();
            }
        });

      

    })
</script>
